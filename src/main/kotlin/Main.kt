
fun main() {
//    println("Running....")
//    currentOf(1, 2, 3, 4)
//        .map { it.toString() }
//        .flatMapMerge {
//            delay(1_000)
//            currentOf(it)
//        }
//        .collect { println(it) }
//    println("Done")
//
//    current<String> {
//        emit("a")
//        delay(10)
//        emit("b")
//        emit("c")
//        delay(101)
//        emit("d")
//        delay(20)
//        emit("e")
//        delay(101)
//        emit("f")
//        delay(101)
//    }
//        .buffer(2)
//        .collect { println(it) } // [a, b, c], [d, e], [f]
}
